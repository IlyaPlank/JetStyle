$(function(){!function(){var t=localStorage.length;if(0<t)for(var a=0;a<t;a++){var s=localStorage.key(a),e=localStorage.getItem(s).split("-"),n=e[0],i=e[1],r=e[2];n=n.substring(0,1).toUpperCase()+n.substring(1);var l=(i=i.substring(0,1).toUpperCase()+i.substring(1)).substring(0,1)+n.substring(0,1).toUpperCase();$(".list__contacts").append("<li data-id='"+s+"'> <div class='initials'>"+l+"</div> <div class='between'>"+i+" "+n+" <a href='tel:"+r+"' class='tel'>"+r+"</a> </div> <div class='btn-remove'>×</div> </li>")}}(),$(".btn").click(function(){"none"==$(".btn-sort").css("display")&&$(".btn-sort").css("display","block");var t=$('input[name="name"]').val(),a=$('input[name="surname"]').val(),s=$('input[name="phone"]').val();if(""==t||""==a||""==s)$(".error").css("opacity","1"),setTimeout(function(){$(".error").css("opacity","0")},2e3);else{var e=0;$(".list__contacts").children().each(function(t,a){var s=$(a).attr("data-id");e<s&&(e=s)}),e++;var n=[t,a,s].join("-");localStorage.setItem(e,n),t=t.substring(0,1).toUpperCase()+t.substring(1);var i=(a=a.substring(0,1).toUpperCase()+a.substring(1)).substring(0,1)+t.substring(0,1).toUpperCase();$(".list__contacts").append("<li data-id='"+e+"'> <div class='initials'>"+i+"</div> <div class='between'>"+a+" "+t+" <a href='tel:"+s+"' class='tel'>"+s+"</a> </div> <div class='btn-remove'>×</div> </li>"),$('input[name="name"]').val(""),$('input[name="surname"]').val(""),$('input[name="phone"]').val("")}}),$(".list").on("click",".btn-remove",function(){$(this).parent().remove(),0<$(".list__contacts > li").length||$(".btn-sort").css("display","none"),localStorage.removeItem($(this).parent().attr("data-id"))}),$(".btn-sort").click(function(){var t=$(".list__contacts li"),a=$(".list ul");t.sort(function(t,a){var s=$(t).text(),e=$(a).text();return s&&e?s.toUpperCase().localeCompare(e.toUpperCase()):0}),t.detach().appendTo(a)})});